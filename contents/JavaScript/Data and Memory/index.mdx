---
title: "[JS] 데이터와 메모리"
date: "2022-02-14"
category: "JavaScript"
tags: ['memory', 'data', 'javascript']
---
import Code from './index.js'

# 1. 데이터 타입 (Data type)
## 원시형(primitive type)
객체가 아니면서 메서드도 가지지 않는 데이터입니다.<br/>
모든 원시 값은 __불변성__ 을 띄고 있습니다.
* 불변성(immutability) : 원시 값은 변형할 수 없습니다. 변수를 할당하는 것과는 다른 개념입니다.

* 종류 : 숫자, 문자열, 불리언, null, undefined, 심볼

## 객체형(reference type)
메모리에 값을 주소로 저장하고, 출력시 메모리 주소와 일치하는 값을 출력합니다.

* 종류 : 배열, 함수, 날짜, 정규표현식, map, weakmap, set, weaksset 등

<br/>
<br/>
<hr/>

# 2. 데이터 할당과 메모리

<Code>
    <Explanation>
        <info>
            <h2>기본형 데이터 할당</h2>
            데이터 타입이 원시형과 객체형으로 구분되어 있으나, 
            메모리 상에서 어떤 차이가 있는지, 
            원시형에서의 불변성은 무엇을 뜻하는지 이해하기 쉽지 않습니다.
            변수를 선언하고 데이터를 할당할 때, 메모리에 어떤 식으로 저장을 하는지 간략하게 표현해보았습니다.
        </info>
        <>1. x라는 객체를 선언해보겠습니다. </>   
        <>2. 객체 x를 선언하라는 명령을 받은 컴퓨터는 비어있는 메모리 공간 하나를 확보하고 이름을 x라고 지정합니다.</>
        <>3. 객체 x에 "aaa" 라는 문자열을 할당해보겠습니다. </>
        <>4. 비어있는 메모리 공간 하나를 확보하고 "aaa" 문자열이 할당됩니다.</>
        <>5. 객체 x가 가르키고 있는 값의 주소가 "aaa"가 저장되어 있는 메모리 주소로 할당됩니다.</>
        <>6. 객체 x에 "bbb"라는 문자열을 재할당 해보겠습니다. </>
        <>7. @5001 메모리 공간의 "aaa" 문자열이 "bbb"로 바뀌는게 아니라, 비어있는 메모리 공간 하나를 확보하고 "bbb" 문자열이 할당되고,
        객체 x가 가르키고 있는 주소가 @5002로 변경됩니다.</>
        <>8. 새로운 객체 y를 선언하고 "bbb"로 초기화해보겠습니다. </>
        <>9. 기존에 "bbb"가 할당되어 있는 메모리 주소를 가르키게 됩니다.</>
        <end>
            변수에 새로운 데이터를 할당할 때, 기존에 할당되어 있는 원시형 데이터는 불변성을 띄고 있기 때문에 데이터가 변하지 않고 새로운 메모리에 새로운 데이터가 할당됩니다.
            <br/> <br/> 사용하지 않는 데이터의 메모리는 추후 Garbage collection에 의해 영역이 해제됩니다.
        </end>
    </Explanation>
    <CodeData>
        <CodeLine isVisible={[0,999]} >let x;</CodeLine>
        <CodeLine isVisible={[2,999]} >x = "aaa";</CodeLine>
        <CodeLine isVisible={[5,999]} >x = "bbb";</CodeLine>
        <CodeLine isVisible={[7,999]} >y = "bbb";</CodeLine>
    </CodeData>
    <MemoryData>
        <CodeLine isVisible={[1,3]} > @1001 : x → </CodeLine>
        <CodeLine isVisible={[4,5]} > @1001 : x → @5001  </CodeLine>
        <CodeLine isVisible={[6,999]} > @1001 : x → @5002  </CodeLine>
        <CodeLine isVisible={[8,999]} > @1002 : y → @5002  </CodeLine>
        <CodeLine isVisible={[3,999]} > @5001 : "aaa" </CodeLine>
        <CodeLine isVisible={[6,999]} > @5002 : "bbb" </CodeLine>
    </MemoryData>
</Code>

<br/>
<br/>
<br/>

<Code>
    <Explanation>
        <info>
            <h2>참조형 데이터 할당</h2>
            참조형 데이터는 몇가지 예외를 제외하고 대부분 가변적입니다.<br/>
            그렇기 때문에 메모리 영역을 활용하는 방식이 기본형과 차이가 있습니다.
        </info>
        <>1. obj라는 객체를 선언하고 참조형 데이터를 할당해보겠습니다. </>
        <>2. 비어있는 메모리를 확보하고 obj 객체가 가지는 메모리 주소(@3001 ~ @3002)를 저장합니다.</>
        <>3. @3001, @3002 메모리 영역에 이름을 지정하고 비어있는 메모리 공간을 할당합니다. </>
        <>4. 각 메모리에 데이터를 할당합니다.</>
        <end>
            ...
        </end>
    </Explanation>
    <CodeData>
        <CodeLine isVisible={[0,999]} >const obj = &#123;</CodeLine>
        <CodeLine isVisible={[0,999]} >&nbsp;&nbsp;&nbsp;&nbsp;name = "gildong";</CodeLine>
        <CodeLine isVisible={[0,999]} >&nbsp;&nbsp;&nbsp;&nbsp;age = 26;</CodeLine>
        <CodeLine isVisible={[0,999]} >&#125;;</CodeLine>
    </CodeData>
    <MemoryData>
        <CodeLine isVisible={[1,999]} > @1001 : obj → @5001</CodeLine>
        <CodeLine isVisible={[1,999]} > @5001 : @3001 ~ @3002  </CodeLine>
        <CodeLine isVisible={[2,999]} > @3001 : name → @5003  </CodeLine>
        <CodeLine isVisible={[2,999]} > @3002 : age → @5004  </CodeLine>
        <CodeLine isVisible={[3,999]} > @5003 : "gildong" </CodeLine>
        <CodeLine isVisible={[3,999]} > @5004 : 26 </CodeLine>
    </MemoryData>
</Code>


<br/>
<br/>
<br/>
<br/>
<br/>

# <<<<<< 작성 중! >>>>>>

<br/>
<br/>
<br/>
<br/>
<br/>

# reference
https://developer.mozilla.org/ko/docs/Glossary/Primitive<br/>
https://junwoo45.github.io/2019-11-04-memory_model/<br/>
https://curryyou.tistory.com/275